# 26. Ref, Populate & Thought process of writing APIs 

## Whats your thought process for a POST & GET api ? 
### POST (you put some data to the db)
- An attacker can send some malicious data into our database. If we don't have strict checks onto our db then it can corrupt our db
- Think about corner cases
- Verify each and everything whatever is getting into db

### GET (we are getting information from the db)
- With GET  api we need to make sure that we are only sending the allowed data

- Check for status (it should be accepted or rejected)
- Get the status and requestId from params
- Find the request onto the db
-- _id : requestId,
-- toUserId : logUser._id,
-- status : 'likes'

- If request is present update the status and save the data into the db


## Now writing the api for user requests
- first takes the reciever._id
- then look for all the requests in connection schema
- Use ref & populate to fetch the sender details
- Read more about ref and populate in mongoose docs