# 25. Logical DB Query & Compound Indexes

- In this we will be focusing on creating a connection request api
- We created seperate routes just to reduce the bulk on app.js

- Created a connection.js schema to keep track of connection request track
- create request api just for like/ pass added some checks onto it
- some checks
1. status can only be likes/ pass
2. one way request -> if a->b then can't b->a & again a->b
3. a->a (user cannot send the request to itself)
4. the toUser must be present in the db 

- Learned $or and $and query (read more about these Logical queries)
- learned about the pre method in mongoose -> run everytime when a new connection is created

if you are creating anything as unique mongodb will automatically created a index for that. 
Why Index ? -> to reduce the search heavy operations. Mongo will optimize the db search when i use unique = true 

// there are three types of index in mongo
1. Unique -> only when there is something unique in every user.
2. Index -> When you want something to make as index
3. Sparse -> 

// Read the article about compound indexes
// What is the advantages of creating a index?

// the job of indexing is to make the query faster 