- 23. Authentication, JWT & Cookies

- why cookie needed?
- cookie help in validate the user when he making the api request after login. Suppose user login then we send a cookie to the user which consist of token. Whenever user make an api call then the cookie will be send along with the request. Then the cookie is validated 

- To parse cookie from the client we use cookie-parser
- send the cookie to the user when logged in as "res.cookie("token", "hdflujvopifjlriwgaho8hfgsvon")"
- created a /profile route which fetches the user profile and also take cookies from the client using req.cookies.
- If we don't use cookie parser then we will get undefined so cookie-parser is need. It is needed in every route so implement it the same way we did express.json()

-- For jwt we will be using a package named jsonwebtoken
- jwt.sign -> create a jwt token
- jwt.verify -> verify the jwt token

- created a userAuth middleware which verifying that incoming requests have a valid JWT token and an existing user account.

- created a api for sendConnectionRequest 
- used jwt expire method {expireIn : "1d"}. We can also set expire in cookies

--- Mongoose schema methods -> I can attach few methods onto schema that is applicable on all users. These methods are helper methods(Nothings just a function which takes care of some task. example -> auth.js)
- created two schema methods to fetch
1. getJwt()
2. checkPassword()